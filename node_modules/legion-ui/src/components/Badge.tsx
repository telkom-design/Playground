/** @jsx jsx */

import React from 'react';
import { jsx, useThemeUI } from '@theme-ui/core';
import { get } from '@theme-ui/css';
import { Badge as Component, BadgeProps as Props, ForwardRef } from '@theme-ui/components';

export interface BadgeProps extends Props {
  variant?: 'primary' | 'online',
  size?: 'small' | 'large',
  bordered?: Boolean
}

export const Badge: ForwardRef<HTMLDivElement, BadgeProps> = React.forwardRef(
  ({ variant='primary', size='small', bordered=false ,...rest }, ref) => {
    const context = useThemeUI();
    const variants = get(context.theme, `badges.${variant}`);
    const borders = get(context.theme, `badges.${bordered? `${size}WithBorder` : `${size}NoBorder`}`);
    const sizes = get(context.theme, `badges.${rest.children ? `${size}WithContent` : size}`);
    return(
      <Component
        ref={ref}
        sx={{...variants, ...sizes, ...borders}}
        {...rest} />
    )
  }
)