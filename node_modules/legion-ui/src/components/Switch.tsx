/** @jsx jsx */

import React from 'react';
import { jsx, useThemeUI } from '@theme-ui/core';
import { get } from '@theme-ui/css';
import { Switch as Component, SwitchProps as Props, ForwardRef } from '@theme-ui/components';

export interface SwitchProps extends Props {
  sizeSwitch?: 'md' | 'sm',
}

export const Switch: ForwardRef<HTMLInputElement, SwitchProps> = React.forwardRef(
  ({ sizeSwitch = 'md', ...rest }, ref) => {
    const context = useThemeUI();
    const sizes = get(context.theme, `forms.switch.${sizeSwitch}`);
    return (
      <Component
        {...rest}
        ref={ref}
        sx={{ ...sizes }}
      />
    );
  }
)

export default Switch;